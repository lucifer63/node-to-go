var macfromip=exports,cp=require("child_process"),MACADDRESS_LENGTH=17;macfromip.getMacInWin32=function(a,b){cp.exec("ping  "+a+" -n 1",function(c,d,e){null!==c&&b("exec error: "+c),null!==e&&""!==e&&b("stderr: "+e);cp.exec("arp -a",function(c,d,e){null!==c&&b("exec error: "+c),null!==e&&""!==e&&b("stderr: "+e),d=d.substring(d.indexOf(a)+22).substring(MACADDRESS_LENGTH,0),b(d)})})},macfromip.getMac=function(a,b){macfromip.getMacInWin32(a,function(b){console.log(a+" : "+b)})},macfromip.getARP=function(a){cp.exec("chcp 437");cp.exec('FOR /L %i in (1,1,43) do @ping 192.168.1.%i -n 1 -w 2000 | find "Reply"',function(b,c,d){null!==d&&""!==d&&a("stderr: "+d);var e=c.split(/\r\n/g);e.pop(),e=e.filter(function(a){return-1==a.indexOf("unreachable")}),e.forEach(function(a,b){e[b]=a.substring(a.indexOf("from")+5,a.indexOf(":"))}),a(e)})};